<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.utunan.mapper.school.PublishDirectionMapper">
    <resultMap id="DirectionCollectorMap" type="com.utunan.pojo.inherit.school.PublishDirection">
        <id column="directionId" property="directionId"/>
        <result property="schoolName" column="schoolName"/>
        <result property="collegeName" column="collegeName"/>
        <result property="majorlName" column="majorlName"/>
        <result property="directionName" column="directionName"/>
        <result property="degreeType" column="degreeType"/>
        <result property="politics" column="politics"/>
        <result property="english" column="english"/>
        <result property="math" column="math"/>
        <result property="majorBasics" column="majorBasics"/>
        <association property="school" javaType="com.utunan.pojo.base.school.School">
            <id column="schoolId" property="schoolId"/>
            <result property="schoolName" column="schoolName"/>
            <result property="schoolProvince" column="schoolProvince"/>
            <result property="schoolType" column="schoolType"/>
            <result property="schoolSubjection" column="schoolSubjection"/>
        </association>
    </resultMap>

    <!--王碧云 根据研究方向查找该方向的详情-->
    <select id="findDirectionByDirectionName" resultMap="DirectionCollectorMap">
        select *
        from direction
        join school on school.schoolName = direction.schoolName
        where
        directionName=#{directionName}
    </select>
</mapper>